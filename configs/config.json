[
  {
    "name": "external-service-1",
    "base_url": "http://localhost",
    "port": 8081,
    "ip_filter": {
      "mode": "whitelist",
      "ips": ["127.0.0.1"]
    },
    "rate_limiter": {
        "global": {
          "key": "limit:global",
          "rate": 50,
          "burst": 50
        },
        "ip": {
          "key": "limit:ip",
          "rate": 2,
          "burst": 100  
        },
        "user": {
          "key": "limit:user",
          "rate": 1,
          "burst": 1
        },
        "key": {
          "key": "limit:key",
          "rate": 1,
          "burst": 1
        }
    },
    "endpoints": [
      {
        "path": "/api/v1/users",
        "method": "GET",
        "auth_strategy": "jwt"
      },
      {
        "path": "/api/v1/users",
        "method": "POST",
        "auth_strategy": "public"
      },
      {
        "path": "/api/v1/users",
        "method": "PUT",
        "auth_strategy": "public"
      }
    ],
    "secret_key": "1234567890"
  },
  {
    "name": "external-service-2",
    "base_url": "http://localhost",
    "port": 8082,
    "ip_filter": {
    "mode": "blacklist", 
    "ips": ["192.168.1.1", "203.0.113.50"]
    },
    "endpoints": [
      {
        "path": "/api/v1/users",
        "method": "GET",
        "auth_strategy": "public"
      },
      {
        "path": "/api/v1/users",
        "method": "POST",
        "auth_strategy": "public"
      },
      {
        "path": "/api/v1/users",
        "method": "PUT",
        "auth_strategy": "public"
      }
    ],
    "secret_key": "0987654321"
  }
]
